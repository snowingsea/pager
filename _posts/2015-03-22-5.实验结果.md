---
layout: post
title:  第五章 实验结果
---

为了验证我们所提出的动态的LTL可满足性检查方法的正确性和优越性，我们对比现有的最出色的可满足性检查工具设计了一系列的实验。

5.1 实验工具
-----

首先，我们将该方法集成到自己的工具Aalta当中。
在集成后的Aalta工具当中包含两种可满足性检查的配置方案：
不包含义务加速的动态检查技术（OF）和包含义务加速的动态检查技术（OFOA）。
其中，后者为工具默认的配置方案。
然后，我们选取目前公认的最出色的可满足性检查工具进行比对。
这些工具分别是PANDA＋Cadence SMV和SPOT。

5.2 实验平台
-----

为了方便的计算实验时间以及更好的进行对比实验，我们的实验平台选用了SUG@R集群。
SUG@R集群是美国莱斯大学开发的由一系列Intel赛扬处理器构建的微机系统。
该微机系统共包含1024个处理器。
我们实验当中的每一个测试用例都独自占有其中的有个处理器。
在实验时间的统计方面，我们使用Unix的“time”时间命令。
计时策略始于输入测试公式，终止于工具给出实验结果。
并且规定每个用例的运行时长不超过10分钟。

5.3 实验输入
-----

为了很好的测试LTL可满足性检查工具，我们选取了不同类型的公式，包括：随机公式和模式公式。
其中，随机公式超过了60,000个，模式公式包含8种长度由1到1000的公式。
我们是从文献［80，81，82］得到的这些公式。
除此之外，我们也引入了一组新的测试集公式，我们将其命名为随机合取公式。
这种公式是LTL可满足性检查的难点：即一些小公式的合取。
假设随机合取公式有n个子公式。
这些公式的获取过程分三步：
首先，文献［35］介绍了44种经常使用的模式，我们抽取出这44种模式；
然后，我们从这44种模式种随机选取n种模式；
最后，为这n种模式的原子变量随机赋值。
这样，我们就得到了随机合取公式。
在实验当中，我们为每一个n生成了500个随机合取公式。

5.4 实验结果
-----

整体的实验结果表明，Aalta不仅可以确保LTL可满足性检查的正确性，而且比PANDA＋Cadence SMV和SPOT的性能要优越。

有关Aalta的正确性，我们采用了这样的判断方法：假定PANDA＋Cadence SMV和SPOT对测试集公式的LTL可满足性检查的结果是正确的，
那么将Aalta的结果与其进行对比，如果结果一致，那么Aalta的检查结果也是正确的，反之不正确。
统计所有的实验结果表明，Aalta的检查结果均与PANDA＋Cadence SMV和SPOT的结果一致，
亦即可以确保Aalta的LTL可满足性检查的正确性。

有关Aalta相较PANDA＋Cadence SMV和SPOT的优越性，我们将针对不同种类的公式进行以下的分类比对。

### **对于随机公式的检查，Aalta的表现最优**

![随机公式实验](/paper/public/img/test1.png)

我们对于三个工具在随机公式上的性能比较如图1所示。
在随机公式的测试中，我们选取了20,000个随机公式，每个公式设定了3个原子变量。
在此基础上，改变公式的长度，由5到200以5的倍数递增。
图1中的曲线反映了针对不同的工具，LTL可满足性检查的时间与公式长度的关系。
对于某个特定的公式长度，其对应的检查时间是取自这个长度公式的平均检查时间。
有图可知，Aalta的时间性能明显优于其他两种工具。
Aalta的检查时间对于60%以上的测试公式可以达到毫秒级，而对于PANDA＋Cadence SMV和SPOT则需要十几秒。
检查完20,000个公式，Aalta可以在一小时之内完成，而PANDA＋Cadence SMV和SPOT则要40个小时以上的时间。

Aalta在随机公式上的时间性能之所以优于其他两个工具，是因为可满足性的公式达到95%，
并且可以用义务加速技术来检查的LTL公式多达80%左右。
虽然，Aalta在可满足公式上存在优势，但是，PANDA＋Cadence SMV在不可满足性公式上的性能是要优于Aalta的。
然而，综合这两方面的对比结果，Aalta在整体上还是要优于PANDA＋Cadence SMV和SPOT的。


### **对于大部分的模式公式，Aalta的表现最优**

如下图所示，三个工具的在R-模式公式上的性能曲线表明，Aalta的性能最优。
对于其他两个工具，PANDA＋Cadence SMV的时间性能随着公式的长度呈现指数增长，SPOT呈现线性增长，
因此R-模式公式上Aalta的性能最优。

Aalta之所以有这样的性能优势得益于义务加速技术。
否则，Aalta的性能也是呈现指数增长的。

![模式公式实验](/paper/public/img/test2.png)

如下图所示，三个工具在S-模式公式下的性能曲线表明，Aalta的性能仅次于SPOT，呈现线性增长。
SPOT优于Aalta的原因在于它在构造自动机方面比Aalta快得多，而这样的优势是在长达十年的维护与优化中累积而来的。

![s-模式公式实验](/paper/public/img/test_s.png)

因此，除了S-模式公式之外，Aalta对于大部分的模式公式的时间性能是最优的。

### **对于随机合取公式，Aalta的表现最优**

![随机合取公式实验](/paper/public/img/test_and.png)

如上图所示，三个工具在随机合取公式上的性能对比曲线表明：Aalta的表现仍然最优，SPOT次之，PANDA＋Cadence SMV最末。
在这部分公式的性能比对当中，考虑到长度太大的公式三个工具都将无法处理，
因此选定的公式的长度都在100左右，即，合取符号的数目在1到15之间。


虽然Aalta在随机合取公式上的性能相对最优，但是也仅仅是其他两个工具的两倍。
原因在于，Aalta在处理可满足性公式上有很大优势，而对于不可满足公式则要差一些。
而实验中的随机合取公式中不可满足性公式的比例相对不较大，因此大大削弱了Aalta在可满足性公式上的优势。
